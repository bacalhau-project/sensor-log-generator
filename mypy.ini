[mypy]
python_version = 3.11

# Start with lenient settings for gradual adoption
warn_return_any = False
warn_unused_configs = True
warn_redundant_casts = True
warn_unused_ignores = False
warn_no_return = True
warn_unreachable = False
strict_equality = False
check_untyped_defs = False
disallow_untyped_decorators = False
disallow_any_generics = False
disallow_untyped_calls = False
disallow_subclassing_any = False
disallow_incomplete_defs = False
disallow_untyped_defs = False
no_implicit_optional = False
no_implicit_reexport = False

# Allow gradual typing
allow_untyped_defs = True
allow_incomplete_defs = True
allow_untyped_globals = True
allow_redefinition = True

# Ignore missing imports for third-party libraries without stubs
ignore_missing_imports = True

# Be lenient about None handling initially
no_strict_optional = True
strict_optional = False

# Directories to check
files = src/, main.py

# Exclude test files and other non-production code
exclude = tests/.*|scripts/.*|build\.py|fix_tests\.py|run_tests_serial\.py

# Per-module options for gradual adoption
[mypy-src.database]
# Database module needs more type hints
allow_untyped_defs = True
check_untyped_defs = True

[mypy-src.simulator]
# Simulator module is complex, allow gradual typing
allow_untyped_defs = True

[mypy-tests.*]
# Don't type check tests
ignore_errors = True

[mypy-scripts.*]
# Don't type check scripts
ignore_errors = True